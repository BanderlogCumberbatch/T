# План тестирования REST API GET /products/{productId}/status

# Функциональное тестирование

Позитивные сценарии:

1. Запрос с разными комбинациями параметров

      Проверить все варианты из условия (recalculate: true/false/null, owner: Создатель/Пользователь/null, region: Северо-Запад/Сибирь/Поволжье)
      
      Ожидаемый результат: HTTP 200, JSON со значением productStatus 0 либо 1

3. Запрос без опциональных параметров

      Параметры: только authToken и productId
      
      Ожидаемый результат: HTTP 200, JSON со значением productStatus 0 либо 1

Негативные сценарии:

4. Невалидный authToken

      Параметры: authToken=invalid (неверный формат/несуществующий)
      
      Ожидаемый результат: HTTP 401

5. Отсутствующий authToken

      Параметры: без authToken
      
      Ожидаемый результат: HTTP 401

6. Несуществующий productId

      Параметры: валидный authToken, несуществующий productId
      
      Ожидаемый результат: HTTP 404

7. Некорректные типы параметров

      Параметры: recalculate=string (вместо boolean)
      
      Ожидаемый результат: HTTP 400 (если валидация строгая) или HTTP 500




# Тест-кейсы для REST API GET /products/{productId}/status

Тест-кейс 1: Запрос с попарной комбинацией recalculate, owner, region

    Предусловия: Существует продукт с ID=123, пользователь имеет валидный токен {validToken}
    
    Шаги:
    
    Выполнить GET запрос: /products/123/status?authToken={validToken}&recalculate={recalculate}&owner={owner}&region={region}
    
    Ожидаемый результат: HTTP 200, JSON {"productStatus": 0} или {"productStatus": 1}
    
Таблица попарного тестирования
|*case*|**recalculate**|**owner**|**region**|
| :- | :- | :- | :- |
|0|false|null|Северо-Запад|
|1|null|Создатель|Повольжье|
|2|true|Пользователь|Северо-Запад|
|3|null|null|Сибирь|
|4|true|Создатель|Сибирь|
|5|false|Пользователь|Повольжье|
|6|null|Создатель|Северо-Запад|
|7|true|null|Повольжье|
|8|false|Создатель|Сибирь|
|9|null|Пользователь|Сибирь|

Тест-кейс 2: Запрос только с обязательными параметрами

    Предусловия: Существует продукт с ID=123, пользователь имеет валидный токен {validToken}
    
    Шаги:
    
    Выполнить GET запрос: /products/123/status?authToken={validToken}
    
    Ожидаемый результат: HTTP 200, JSON {"productStatus": 0} или {"productStatus": 1}

   
Тест-кейс 3: Невалидный authToken

    Предусловия: Существует продукт с ID=123
    
    Шаги:
    
    Выполнить GET запрос: /products/123/status?authToken=invalidToken
    
    Ожидаемый результат: HTTP 401

Тест-кейс 4: Отсутствующий authToken

    Предусловия: Существует продукт с ID=123
    
    Шаги:
    
    Выполнить GET запрос: /products/123/status
    
    Ожидаемый результат: HTTP 401

Тест-кейс 5: Несуществующий productId

    Предусловия: Не существует продукта с ID=999999, пользователь имеет валидный токен {validToken}
    
    Шаги:
    
    Выполнить GET запрос: /products/999999/status?authToken={validToken}
    
    Ожидаемый результат: HTTP 404

Тест-кейс 6: Некорректный тип параметра recalculate

    Предусловия: Существует продукт с ID=123, пользователь имеет валидный токен {validToken}
    
    Шаги:
    
    Выполнить GET запрос: /products/123/status?authToken={validToken}&recalculate=string_value
    
    Ожидаемый результат: HTTP 400 или HTTP 500
